EESchema Schematic File Version 2
LIBS:TFCB_ATV_HAT-rescue
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:Basics-BJH
LIBS:buzzer
LIBS:Connectors-BJH
LIBS:Devices-BJH
LIBS:LCD-BJH
LIBS:Microchip-BJH
LIBS:Oscillators-BJH
LIBS:PowerSymbols-BJH
LIBS:Relays
LIBS:TFCB_ATV_HAT-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 4 7
Title "Watchdog & Discharge"
Date "Wed 24 Jun 2015"
Rev ""
Comp "hoskins.tech"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Q_NMOS_GSD-RESCUE-TFCB_ATV_HAT Q?
U 1 1 558AFD4B
P 1700 2000
F 0 "Q?" H 2000 2050 50  0000 R CNN
F 1 "2N7002" H 2200 1950 50  0000 R CNN
F 2 "" H 1900 2100 29  0000 C CNN
F 3 "" H 1700 2000 60  0000 C CNN
	1    1700 2000
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 558AFEBE
P 1350 2300
F 0 "R?" V 1430 2300 50  0000 C CNN
F 1 "R" V 1350 2300 50  0000 C CNN
F 2 "" V 1280 2300 30  0000 C CNN
F 3 "" H 1350 2300 30  0000 C CNN
	1    1350 2300
	1    0    0    -1  
$EndComp
Text GLabel 1150 2000 0    50   Input ~ 0
RF2
$Comp
L R R?
U 1 1 558AFEED
P 1800 1450
F 0 "R?" V 1880 1450 50  0000 C CNN
F 1 "R" V 1800 1450 50  0000 C CNN
F 2 "" V 1730 1450 30  0000 C CNN
F 3 "" H 1800 1450 30  0000 C CNN
	1    1800 1450
	1    0    0    -1  
$EndComp
$Comp
L +14V_BJH #PWR?
U 1 1 558AFF37
P 1800 1150
F 0 "#PWR?" H 1800 1340 20  0001 C CNN
F 1 "+14V_BJH" H 1800 1340 51  0001 C CNN
F 2 "" H 1800 1150 60  0001 C CNN
F 3 "" H 1800 1150 60  0001 C CNN
F 4 "+14V" H 1800 1350 60  0000 C CNB "NAME"
	1    1800 1150
	1    0    0    -1  
$EndComp
$Comp
L Q_NMOS_GSD-RESCUE-TFCB_ATV_HAT Q?
U 1 1 558AFF63
P 2700 1300
F 0 "Q?" H 3000 1350 50  0000 R CNN
F 1 "2N7002" H 3200 1250 50  0000 R CNN
F 2 "" H 2900 1400 29  0000 C CNN
F 3 "" H 2700 1300 60  0000 C CNN
	1    2700 1300
	0    -1   -1   0   
$EndComp
Text GLabel 2350 1200 0    50   Input ~ 0
WDOG_IN
Text GLabel 3400 1200 2    50   Output ~ 0
WDOG_OUT
$Comp
L R R?
U 1 1 558B0242
P 3150 1200
F 0 "R?" V 3230 1200 50  0000 C CNN
F 1 "R" V 3150 1200 50  0000 C CNN
F 2 "" V 3080 1200 30  0000 C CNN
F 3 "" H 3150 1200 30  0000 C CNN
	1    3150 1200
	0    1    1    0   
$EndComp
Text Notes 1600 1850 2    50   ~ 0
WATCHDOG ENABLE
$Comp
L GND #PWR?
U 1 1 558B03D6
P 1800 2600
F 0 "#PWR?" H 1800 2350 50  0001 C CNN
F 1 "GND" H 1800 2450 50  0000 C CNN
F 2 "" H 1800 2600 60  0000 C CNN
F 3 "" H 1800 2600 60  0000 C CNN
	1    1800 2600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 558B0404
P 1350 2600
F 0 "#PWR?" H 1350 2350 50  0001 C CNN
F 1 "GND" H 1350 2450 50  0000 C CNN
F 2 "" H 1350 2600 60  0000 C CNN
F 3 "" H 1350 2600 60  0000 C CNN
	1    1350 2600
	1    0    0    -1  
$EndComp
$Comp
L Q_NMOS_GSD-RESCUE-TFCB_ATV_HAT Q?
U 1 1 558B071E
P 1700 4100
F 0 "Q?" H 2000 4150 50  0000 R CNN
F 1 "2N7002" H 2200 4050 50  0000 R CNN
F 2 "" H 1900 4200 29  0000 C CNN
F 3 "" H 1700 4100 60  0000 C CNN
	1    1700 4100
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 558B0724
P 1350 4400
F 0 "R?" V 1430 4400 50  0000 C CNN
F 1 "R" V 1350 4400 50  0000 C CNN
F 2 "" V 1280 4400 30  0000 C CNN
F 3 "" H 1350 4400 30  0000 C CNN
	1    1350 4400
	1    0    0    -1  
$EndComp
Text GLabel 1150 4100 0    50   Input ~ 0
RE6
$Comp
L R R?
U 1 1 558B072D
P 1800 3550
F 0 "R?" V 1880 3550 50  0000 C CNN
F 1 "R" V 1800 3550 50  0000 C CNN
F 2 "" V 1730 3550 30  0000 C CNN
F 3 "" H 1800 3550 30  0000 C CNN
	1    1800 3550
	1    0    0    -1  
$EndComp
Text Notes 1600 3950 2    50   ~ 0
WATCHDOG PULSE
$Comp
L GND #PWR?
U 1 1 558B0737
P 1800 4700
F 0 "#PWR?" H 1800 4450 50  0001 C CNN
F 1 "GND" H 1800 4550 50  0000 C CNN
F 2 "" H 1800 4700 60  0000 C CNN
F 3 "" H 1800 4700 60  0000 C CNN
	1    1800 4700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 558B073E
P 1350 4700
F 0 "#PWR?" H 1350 4450 50  0001 C CNN
F 1 "GND" H 1350 4550 50  0000 C CNN
F 2 "" H 1350 4700 60  0000 C CNN
F 3 "" H 1350 4700 60  0000 C CNN
	1    1350 4700
	1    0    0    -1  
$EndComp
$Comp
L +3.3V_BJH #PWR?
U 1 1 558B07AC
P 1800 3250
F 0 "#PWR?" H 1800 3440 20  0001 C CNN
F 1 "+3.3V_BJH" H 1800 3440 51  0001 C CNN
F 2 "" H 1800 3250 60  0001 C CNN
F 3 "" H 1800 3250 60  0001 C CNN
F 4 "+3.3V" H 1800 3450 60  0000 C CNB "NAME"
	1    1800 3250
	1    0    0    -1  
$EndComp
Text GLabel 2200 3800 2    50   Output ~ 0
WDOG_IN
$Comp
L CD4040B U?
U 1 1 558B0913
P 3000 6100
F 0 "U?" H 2700 6800 60  0000 C CNN
F 1 "CD4040B" V 2550 6400 60  0000 C CNN
F 2 "" H 3200 6050 60  0000 C CNN
F 3 "" H 3200 6050 60  0000 C CNN
	1    3000 6100
	1    0    0    -1  
$EndComp
Text GLabel 1200 6100 0    50   Input ~ 0
WDOG_IN
$Comp
L Q_NMOS_GSD-RESCUE-TFCB_ATV_HAT Q?
U 1 1 558B0AC0
P 4300 5800
F 0 "Q?" H 4600 5850 50  0000 R CNN
F 1 "2N7002" H 4800 5750 50  0000 R CNN
F 2 "" H 4500 5900 29  0000 C CNN
F 3 "" H 4300 5800 60  0000 C CNN
	1    4300 5800
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 558B0BF7
P 3900 6150
F 0 "R?" V 3980 6150 50  0000 C CNN
F 1 "R" V 3900 6150 50  0000 C CNN
F 2 "" V 3830 6150 30  0000 C CNN
F 3 "" H 3900 6150 30  0000 C CNN
	1    3900 6150
	1    0    0    -1  
$EndComp
$Comp
L +3.3V_BJH #PWR?
U 1 1 558B0DD9
P 4400 4550
F 0 "#PWR?" H 4400 4740 20  0001 C CNN
F 1 "+3.3V_BJH" H 4400 4740 51  0001 C CNN
F 2 "" H 4400 4550 60  0001 C CNN
F 3 "" H 4400 4550 60  0001 C CNN
F 4 "+3.3V" H 4400 4750 60  0000 C CNB "NAME"
	1    4400 4550
	1    0    0    -1  
$EndComp
$Comp
L LED-RESCUE-TFCB_ATV_HAT D?
U 1 1 558B0DF2
P 4400 5300
F 0 "D?" H 4400 5400 50  0000 C CNN
F 1 "LED" H 4400 5200 50  0000 C CNN
F 2 "" H 4400 5300 60  0000 C CNN
F 3 "" H 4400 5300 60  0000 C CNN
	1    4400 5300
	0    1    1    0   
$EndComp
$Comp
L R R?
U 1 1 558B0F19
P 4400 4850
F 0 "R?" V 4480 4850 50  0000 C CNN
F 1 "R" V 4400 4850 50  0000 C CNN
F 2 "" V 4330 4850 30  0000 C CNN
F 3 "" H 4400 4850 30  0000 C CNN
	1    4400 4850
	1    0    0    -1  
$EndComp
$Comp
L +3.3V_BJH #PWR?
U 1 1 558B0FE6
P 3000 4550
F 0 "#PWR?" H 3000 4740 20  0001 C CNN
F 1 "+3.3V_BJH" H 3000 4740 51  0001 C CNN
F 2 "" H 3000 4550 60  0001 C CNN
F 3 "" H 3000 4550 60  0001 C CNN
F 4 "+3.3V" H 3000 4750 60  0000 C CNB "NAME"
	1    3000 4550
	1    0    0    -1  
$EndComp
Text Notes 5250 5550 2    50   ~ 0
WATCHDOG MONITOR
$Comp
L JUMP-SEL-1or2 J?
U 1 1 558B1116
P 1450 6050
F 0 "J?" H 1500 6100 60  0000 C CNN
F 1 "JUMP-SEL-1or2" H 1550 5750 60  0000 C CNN
F 2 "" H 1300 5600 60  0000 C CNN
F 3 "" H 1300 5600 60  0000 C CNN
	1    1450 6050
	1    0    0    -1  
$EndComp
Text GLabel 1200 6200 0    50   Input ~ 0
WDOG_OUT
$Comp
L Q_NMOS_GSD-RESCUE-TFCB_ATV_HAT Q?
U 1 1 558B1584
P 6950 3200
F 0 "Q?" H 7250 3250 50  0000 R CNN
F 1 "2N7002" H 7000 3000 50  0000 R CNN
F 2 "" H 7150 3300 29  0000 C CNN
F 3 "" H 6950 3200 60  0000 C CNN
	1    6950 3200
	1    0    0    -1  
$EndComp
Text GLabel 6550 3200 0    50   Input ~ 0
RE0
$Comp
L R R?
U 1 1 558B17D0
P 6650 2950
F 0 "R?" V 6730 2950 50  0000 C CNN
F 1 "10K" V 6650 2950 50  0000 C CNN
F 2 "" V 6580 2950 30  0000 C CNN
F 3 "" H 6650 2950 30  0000 C CNN
	1    6650 2950
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 558B1A07
P 7050 2650
F 0 "R?" V 7130 2650 50  0000 C CNN
F 1 "500" V 7050 2650 50  0000 C CNN
F 2 "" V 6980 2650 30  0000 C CNN
F 3 "" H 7050 2650 30  0000 C CNN
	1    7050 2650
	1    0    0    -1  
$EndComp
$Comp
L +3.3V_BJH #PWR?
U 1 1 558B1B6B
P 6650 2650
F 0 "#PWR?" H 6650 2840 20  0001 C CNN
F 1 "+3.3V_BJH" H 6650 2840 51  0001 C CNN
F 2 "" H 6650 2650 60  0001 C CNN
F 3 "" H 6650 2650 60  0001 C CNN
F 4 "+3.3V" H 6650 2850 60  0000 C CNB "NAME"
	1    6650 2650
	1    0    0    -1  
$EndComp
$Comp
L +14V_BJH #PWR?
U 1 1 558B1CA1
P 7050 2350
F 0 "#PWR?" H 7050 2540 20  0001 C CNN
F 1 "+14V_BJH" H 7050 2540 51  0001 C CNN
F 2 "" H 7050 2350 60  0001 C CNN
F 3 "" H 7050 2350 60  0001 C CNN
F 4 "+14V" H 7050 2550 60  0000 C CNB "NAME"
	1    7050 2350
	1    0    0    -1  
$EndComp
$Comp
L Q_NMOS_GSD-RESCUE-TFCB_ATV_HAT Q?
U 1 1 558B1DBA
P 7900 2900
F 0 "Q?" H 8200 2950 50  0000 R CNN
F 1 "NMOS" H 8400 2850 50  0000 R CNN
F 2 "" H 8100 3000 29  0000 C CNN
F 3 "" H 7900 2900 60  0000 C CNN
	1    7900 2900
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 558B1ED2
P 7400 3200
F 0 "R?" V 7480 3200 50  0000 C CNN
F 1 "10K" V 7400 3200 50  0000 C CNN
F 2 "" V 7330 3200 30  0000 C CNN
F 3 "" H 7400 3200 30  0000 C CNN
	1    7400 3200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 558B20E6
P 7050 3600
F 0 "#PWR?" H 7050 3350 50  0001 C CNN
F 1 "GND" H 7050 3450 50  0000 C CNN
F 2 "" H 7050 3600 60  0000 C CNN
F 3 "" H 7050 3600 60  0000 C CNN
	1    7050 3600
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 558B248C
P 8000 2400
F 0 "R?" V 8080 2400 50  0000 C CNN
F 1 "10R" V 8000 2400 50  0000 C CNN
F 2 "" V 7930 2400 30  0000 C CNN
F 3 "" H 8000 2400 30  0000 C CNN
	1    8000 2400
	1    0    0    -1  
$EndComp
Text Notes 7050 1850 0    50   ~ 0
DISCHARGE CIRCUIT
Text Notes 5800 3100 0    50   ~ 0
DISCHARGE ENABLE
$Comp
L CONN_01X02 J?
U 1 1 558B4CE4
P 10850 950
AR Path="/558B4CE4" Ref="J?"  Part="1" 
AR Path="/558AFC77/558B4CE4" Ref="J?"  Part="1" 
F 0 "J?" H 10850 1100 50  0000 C CNN
F 1 "DISCHARGE" V 10950 950 50  0000 C CNN
F 2 "" H 10850 950 60  0000 C CNN
F 3 "" H 10850 950 60  0000 C CNN
	1    10850 950 
	1    0    0    -1  
$EndComp
Text GLabel 10400 1500 0    50   Input ~ 0
WDOG_OUT
Text GLabel 10400 900  0    50   Output ~ 0
DISCHARGE_POS
Text GLabel 10400 1000 0    50   Output ~ 0
DISCHARGE_NEG
Text GLabel 8400 2000 2    50   Input ~ 0
DISCHARGE_POS
Text GLabel 8400 3500 2    50   Input ~ 0
DISCHARGE_NEG
$Comp
L R R?
U 1 1 558B5E3F
P 7700 3500
F 0 "R?" V 7780 3500 50  0000 C CNN
F 1 "10K" V 7700 3500 50  0000 C CNN
F 2 "" V 7630 3500 30  0000 C CNN
F 3 "" H 7700 3500 30  0000 C CNN
	1    7700 3500
	0    1    1    0   
$EndComp
$Comp
L CONN_01X02 J?
U 1 1 558B653D
P 10850 1550
AR Path="/558B653D" Ref="J?"  Part="1" 
AR Path="/558AFC77/558B653D" Ref="J?"  Part="1" 
F 0 "J?" H 10850 1700 50  0000 C CNN
F 1 "WATCHDOG" V 10950 1550 50  0000 C CNN
F 2 "" H 10850 1550 60  0000 C CNN
F 3 "" H 10850 1550 60  0000 C CNN
	1    10850 1550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 558B6642
P 10500 1800
F 0 "#PWR?" H 10500 1550 50  0001 C CNN
F 1 "GND" H 10500 1650 50  0000 C CNN
F 2 "" H 10500 1800 60  0000 C CNN
F 3 "" H 10500 1800 60  0000 C CNN
	1    10500 1800
	1    0    0    -1  
$EndComp
Text Notes 650  7550 0    60   ~ 0
This jumper selects whether\nyou monitor the watchdog\nat the actual output, or at\nthe buffered microcontroller\noutput.\n\nIf you monitor at actual output\nthen you will also monitor the\nUUT's own watchdog.\nMonitoring at the buffered micro\noutput ensures you only see pulsing\nwhen the TFCB watchdog is active.
NoConn ~ 3650 5600
NoConn ~ 3650 5700
NoConn ~ 3650 5900
NoConn ~ 3650 6000
NoConn ~ 3650 6100
NoConn ~ 3650 6200
NoConn ~ 3650 6300
NoConn ~ 3650 6400
NoConn ~ 3650 6500
NoConn ~ 3650 6600
NoConn ~ 3650 6700
Wire Wire Line
	1150 2000 1500 2000
Connection ~ 1350 2000
Wire Wire Line
	1800 1600 1800 1800
Wire Wire Line
	1800 1300 1800 1200
Wire Wire Line
	2700 1500 2700 1700
Wire Wire Line
	2700 1700 1800 1700
Connection ~ 1800 1700
Wire Wire Line
	2350 1200 2500 1200
Wire Wire Line
	2900 1200 3000 1200
Wire Wire Line
	3300 1200 3400 1200
Wire Wire Line
	1800 2600 1800 2200
Wire Wire Line
	1350 2000 1350 2150
Wire Wire Line
	1350 2450 1350 2600
Wire Wire Line
	1150 4100 1500 4100
Connection ~ 1350 4100
Wire Wire Line
	1800 3700 1800 3900
Connection ~ 1800 3800
Wire Wire Line
	1800 4700 1800 4300
Wire Wire Line
	1350 4100 1350 4250
Wire Wire Line
	1350 4550 1350 4700
Wire Wire Line
	1800 3300 1800 3400
Wire Wire Line
	2200 3800 1800 3800
Wire Wire Line
	1950 6150 2350 6150
Wire Wire Line
	3650 5800 4100 5800
Wire Wire Line
	3900 6000 3900 5800
Connection ~ 3900 5800
Wire Wire Line
	2350 6400 2250 6400
Wire Wire Line
	2250 6400 2250 7200
Wire Wire Line
	2250 7200 4400 7200
Wire Wire Line
	4400 7200 4400 6000
Wire Wire Line
	3900 6300 3900 6500
Wire Wire Line
	3900 6500 4400 6500
Connection ~ 4400 6500
Wire Wire Line
	3000 7100 3000 7200
Connection ~ 3000 7200
Wire Wire Line
	3000 4600 3000 5200
Wire Wire Line
	4400 4600 4400 4700
Wire Wire Line
	4400 5000 4400 5100
Wire Wire Line
	4400 5500 4400 5600
Wire Wire Line
	1200 6100 1350 6100
Wire Wire Line
	1200 6200 1350 6200
Wire Wire Line
	6550 3200 6750 3200
Connection ~ 6650 3200
Wire Wire Line
	6650 3100 6650 3200
Wire Wire Line
	6650 2700 6650 2800
Wire Wire Line
	7050 2800 7050 3000
Wire Wire Line
	7050 2400 7050 2500
Wire Wire Line
	7700 2900 7050 2900
Connection ~ 7050 2900
Wire Wire Line
	7050 3600 7050 3400
Connection ~ 7050 3500
Wire Wire Line
	8000 2550 8000 2700
Wire Wire Line
	8000 2000 8000 2250
Wire Wire Line
	10400 1500 10650 1500
Wire Wire Line
	10400 900  10650 900 
Wire Wire Line
	10400 1000 10650 1000
Wire Wire Line
	8400 2000 8000 2000
Wire Wire Line
	7850 3500 8400 3500
Wire Wire Line
	8000 3100 8000 3750
Wire Wire Line
	7400 3050 7400 2900
Connection ~ 7400 2900
Wire Wire Line
	7400 3350 7400 3750
Wire Wire Line
	7050 3500 7550 3500
Connection ~ 7400 3500
Connection ~ 8000 3500
Wire Wire Line
	10650 1600 10500 1600
Wire Wire Line
	10500 1600 10500 1800
$Comp
L Q_NMOS_GSD-RESCUE-TFCB_ATV_HAT Q?
U 1 1 55A00157
P 7700 3850
F 0 "Q?" H 8000 3900 50  0000 R CNN
F 1 "NMOS" H 8200 3800 50  0000 R CNN
F 2 "" H 7900 3950 29  0000 C CNN
F 3 "" H 7700 3850 60  0000 C CNN
	1    7700 3850
	0    1    -1   0   
$EndComp
Wire Wire Line
	7700 4050 7700 4100
Wire Wire Line
	7700 4100 7250 4100
Wire Wire Line
	7250 4100 7250 2900
Connection ~ 7250 2900
Text Notes 7600 3400 0    60   ~ 0
NF
Wire Wire Line
	8000 3750 7900 3750
Wire Wire Line
	7400 3750 7500 3750
$EndSCHEMATC
